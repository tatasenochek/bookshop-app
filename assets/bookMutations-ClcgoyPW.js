import{c as r,d as u}from"./index-KX7zggbE.js";const t=[];for(let e=0;e<256;++e)t.push((e+256).toString(16).slice(1));function c(e,n=0){return(t[e[n+0]]+t[e[n+1]]+t[e[n+2]]+t[e[n+3]]+"-"+t[e[n+4]]+t[e[n+5]]+"-"+t[e[n+6]]+t[e[n+7]]+"-"+t[e[n+8]]+t[e[n+9]]+"-"+t[e[n+10]]+t[e[n+11]]+t[e[n+12]]+t[e[n+13]]+t[e[n+14]]+t[e[n+15]]).toLowerCase()}let a;const p=new Uint8Array(16);function y(){if(!a){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(p)}const m=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),i={randomUUID:m};function l(e,n,s){var d;if(i.randomUUID&&!e)return i.randomUUID();e=e||{};const o=e.random??((d=e.rng)==null?void 0:d.call(e))??y();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,c(o)}const{useAddBookMutation:k,useUpdateBookMutation:b,useDeleteBookMutation:U}=r.injectEndpoints({endpoints:e=>({addBook:e.mutation({query:({bookData:n})=>({queryFn:async()=>{const s={...n,book_id:l(),created_at:new Date().toISOString()};return await u.from("bookList").insert(s).select().single()}}),invalidatesTags:["Book"]}),updateBook:e.mutation({query:({id:n,updates:s})=>({queryFn:async()=>await u.from("bookList").update(s).eq("book_id",n).select().single()}),invalidatesTags:["Book"]}),deleteBook:e.mutation({query:n=>({queryFn:async()=>await u.from("bookList").delete().eq("book_id",n).select()}),invalidatesTags:["Book"]})})});export{b as a,U as b,k as u};
